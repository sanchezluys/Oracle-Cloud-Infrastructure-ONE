## Infraestructura como código

### Tipos de arquitecturas

1. Monolitica, 
    . una misma base de codigo con diferentes servicios
    . no es tan escalable
    . dependencia, ejemplo si falla ventas entonces toda la aplicacion falla
    . toda la aplicacion esta desarrollada en el mismo lenguaje de programacion

2. Microservicios
    . se separan los servicios
    . se puede escalar cada servicio por separado
    . cada servicio puede estar programado en diferentes lenguajes
    . se pueden comunicar entre si por ejemplo con REST API
    . es mas compleja la administracion, 

- API gateway centralizaria todas las conexiones a cada modulo o servicio. agrega una capa de seguridad

![alt arq_1](/imagenes/clase04/arq/image.png)

![alt arq_2](/imagenes/clase04/arq/image-1.png)

![alt arq_3](/imagenes/clase04/arq/image-2.png)

![alt arq_4](/imagenes/clase04/arq/image-3.png)

![alt arq_5](/imagenes/clase04/arq/image-4.png)

- en menu, servicio para desarrolladores:

![alt arq_6](/imagenes/clase04/arq/image-5.png)

## Gestor de Recursos

- Usa el lenguaje Terraform, es un servicio de otra empresa y es comun para oci, aws, google cloud etc.

![alt arq_7](/imagenes/clase04/arq/image-6.png)


## Crear primera IAC

- descargar el recurso, que es un zip (/recursos/1911-coi2-doguito-site-orm-master.zip), igual se puede crear a partir de una plantilla etc
- se crea la pila, no se debe ejecutar la pila solo crearla
- luego se activa el plan
- dado que la cuenta es free se hace necesario borrar todo lo construido ya que dará error

que borrar? en los 3 punticos. se demora unos segundos

    1. - menu - red - equilibrio de carga - eliminar el load balancer
    2. - menu - recursos - instancias - eliminar las 2 instancias
    3. - menu - red - redes virtuales vcn - eliminar las vcns creadas
    4. - menu - servicios para desarrolladores - pilas - volver a aplicar (demora)



![alt arq_8](/imagenes/clase04/arq/image-7.png)

![alt arq_9](/imagenes/clase04/arq/image-8.png)



Realizamos la creación de nuestra primera infraestructura a partir del código utilizando el gerenciador de recursos de OCI.

Inicialmente fue necesario remover los recursos ya utilizados para no ultrapasar los límites de uso de la cuenta free tier.

Realizamos la remoción del balanceador de cargas, de las dos instancias de computación y de la red virtual.

En seguida pudimos implementar nuestra primera infraestructura como código como el archivo “orm-dps.zip”, que tiene una infraestructura básica de balanceador de carga, red virtual y dos instancias.

Sigue los pasos realizados en el video para implementar la infraestructura como código y si tienes problemas, acciona el fóro del curso para obtener auxilio.

La infraestructura necesaria para la ejecución de nuestras aplicaciones se han tornado cada vez más complejas. Además de eso, también tenemos el concepto de infraestructura elástica, que consiste en adecuar nuestra infraestructura implementada al volumen de trabajo de un determinado momento. Para eso, surgió la necesidad de automatización de implementación, que debe dejar de ser un proceso manual para ser un proceso automático y reproducible.

Como hemos visto, Resource Manager de OCI es nuestro aliado en esta tarea, y este video nos trae muchas informaciones complementares para profundizarnos nuestro conocimiento sobre Resource Manager:

https://youtu.be/btnRgK36LnE


El contenido en video puede presentar algunos tópicos desactualizados, por eso, todos los detalles sobre la utilización de Resource Manager en OCI pueden ser encontrados en la documentación oficial a través del link:

Documentación de Oracle Cloud Infrastructure

https://docs.oracle.com/es-ww/iaas/Content/home.htm

### ventajas de IAC

Infraestructura como código es un abordaje muy adoptado actualmente, en especial cuando se utilizan prácticas de DevOps en las organizaciones. Eso porque hay ventajas reales en esta forma de gerenciamiento y aprovisionamiento en comparación a la implementación manual de infraestructuras.

Marca las alternativas con las opciones que corresponden a los beneficios de IAC.

    Alternativa correta

    Reproductibilidad de la infraestructura.

Alternativa correcta. El código que representa una infraestructura puede ser ejecutado un número indefinido de veces tornando la infraestructura fácilmente reproducible.
Alternativa correta

Control de versión de la infraestructura.

Alternativa correcta. Con la infraestructura como código, el código que representa la infraestructura puede ser versionado utilizando las herramientas convencionales de versionamiento como Git.
Alternativa correta

Automatización del aprovisionamiento.

Alternativa correcta. La principal ventaja de utilizar infraestructura como código es la automatización del aprovisionamiento, eliminando prácticamente todo el proceso manual y pasible de error de implementación de infraestructura. 




Lo que aprendimos en esta aula:

    Que las aplicaciones han evolucionado su arquitectura de construcción de monolitos para microservicios.
    Que la utilización de microservicios acelera la necesidad de trabajarse con automatización de aprovisionamiento de infraestructura y infraestructura como código.
    Que la OCI disponibiliza diversas soluciones de soporte al desarrollo a través de la opción “Servicios al Desarrollador”, por ejemplo: Kubernets, Registro de Artefactos, Gateway de API y Gerenciamiento de Recursos (IaaS)
    Que el Gerenciador de Recursos es un servicio de Terraform y permite la definición de infraestructura como código, colaborando para que la infraestructura pueda ser fácilmente replicada y versionada. 

